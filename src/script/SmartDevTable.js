function fctrim(t){for(var a=(t=t.replace(/^\s+/,"")).length-1;0<=a;a--)if(/\S/.test(t.charAt(a))){t=t.substring(0,a+1);break}return t}function order(t){var a=$(t);return(a.attr("orderby")||a.attr("data-post"))&&($("input[name='orderby']").val(a.attr("orderby")),$("input[name='sortby']").val(a.attr("sortby")),0<$(".btnsearch").length?$(".btnsearch").click():postobj(a)),!1}function view(t){var a=$(t);return a.attr("data-post")&&($("input[name='tb_view']").val(parseInt(a.html())),0<$(".btnsearch").length?$(".btnsearch").click():postobj(a)),!1}function nextprevpage(t){var a=$(t);return a.attr("data-post")&&($("input[name='tb_hal']").val(parseInt(a.html())),0<$(".btnsearch").length?$(".btnsearch").click():postobj(a)),!1}function postobj(t){var a=$(t),e=$(a.attr("data-form")).serializeArray();return e.push({name:"data-post",value:$(t).attr("data-post")}),$.ajax({type:"POST",url:$(t).attr("data-action"),data:e,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(){return alertify.alert("Maaf, request halaman tidak ditemukan"),!1},beforeSend:function(){$($(a.attr("data-screen-loader"))).next().hide(),$($(a.attr("data-screen-loader"))).show(),$(".smartDev-overlay").show()},complete:function(){$($(a.attr("data-screen-loader"))).next().show(),$($(a.attr("data-screen-loader"))).hide(),$(".smartDev-overlay").hide()},success:function(t){return $(a.attr("data-target")).html(t),!1}}),!1}function expand(t){var a=$(t).parent().parent(),e="";if(a.attr("urldetil")&&""!=a.attr("urldetil")){$("#newtr").remove();var r=$("td",a).length,n="";$(this).parent().children().first().attr("class")&&(n=' class="'+$(this).parent().children().first().attr("class")+'"'),a.after('<tr id="newtr"><td id="filltd" style="font-size:12px;" colspan="'+r+'"'+n+"></td></tr>"),$("#filltd").html("Loading.."),e=$("#urldtl").val()+a.attr("urldetil"),$.get(e,function(t){$("#filltd").html(t),$("#newtr").removeClass("selected")})}return!1}function modalrow(t){var a=$(t);a.attr("data-url")&&$.get(a.attr("data-url"),function(t){t&&0===$(".modal-backdrop").length&&BootstrapDialog.show({title:"",type:BootstrapDialog.TYPE_PRIMARY,size:BootstrapDialog.SIZE_WIDE,message:t})})}function _keypress(t){$(t).keypress(function(t){if(13==(t.keyCode?t.keyCode:t.which))return $(".btnsearch").click(),!1;t.stopPropagation()})}function selectedrow(t){var i=$(t);if(!i.attr("data-target")||!i.attr("data-retrive"))return!1;if(i.attr("data-url-callback")&&i.attr("data-field-callback"))$.get(i.attr("data-url-callback"),function(t){if(t)for(var a=t.split("|"),e=i.attr("data-field-callback").split("."),r=0;r<a.length;r++){var n=$("#"+e[r]).get(0).tagName;"INPUT"===n||"SELECT"===n||"TEXTAREA"===n?$("#"+e[r]).val(a[r]):$("#"+e[r]).html(a[r])}});else for(var a=i.attr("data-target").split("|"),e=i.attr("data-retrive").split("|"),r=0;r<a.length;r++){var n=$("#"+a[r]).get(0).tagName;"INPUT"===n||"SELECT"===n?$("#"+a[r]).val(e[r]):$("#"+a[r]).html(e[r])}return $(".modal-backdrop, .modal, .bootstrap-dialog, .modal-dialog").remove(),!1}function _chkall(t){var a=$(t),e=a.attr("data-body"),r=a.attr("data-bar"),n=0;return a.is(":checked")?($(e).find(":checkbox").prop("checked",!0),n=$(e+" .filled-in-custom").filter(":checked").length,$(".selected_items span").html(n+" data terpilih"),$(r).show()):($(e).find(":checkbox").prop("checked",!1),$(r).hide()),!1}function closepanel(t){var a=$(t);BootstrapDialog.confirm("Anda yakin akan menutup form berikut ?",function(t){if(!t)return!1;$(a.attr("data-show")).fadeIn(),$(a.attr("data-closed")).fadeOut(function(){$(a.attr("data-closed")).html("")})})}function appendrow(t){var a=$(t),e=a.closest("tr"),r=$("td",e).length;if(a.attr("data-url")){$("#newtr").remove();e.after('<tr id="newtr"><td id="filltd" style="font-size:12px;" colspan="'+r+'"></td></tr>'),$("#filltd").html("Loading.."),$.get(a.attr("data-url"),function(t){$("#filltd").html(t),$("#newtr").removeClass("selected")})}return!1}function _rowtogglemenu(t){var e=$(t),a=e.closest("tr").attr("id");return chk=$("#"+a).find(":checkbox:checked").length,url=e.attr("url"),jml=e.attr("jml"),met=e.attr("met"),isbody=e.attr("data-body"),""==url||(0==chk&&"0"!=jml?alertify.alert("Maaf, tidak ada data yang dipilih"):"1"==jml&&1<chk?alertify.alert("Maaf, data yang bisa di proses atau di pilih hanya 1 (satu)"):"GET"==met?alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){return t.preventDefault(),"0"==jml?location.href=url:location.href=url+"/"+$(".filled-in-custom:checked").val()+".html",!1},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1}):"POST"==met&&alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){t.preventDefault();var a=$(e.attr("data-form")).serializeArray();a.push({name:"type",value:"2Eqj6weab"}),$.ajax({type:"POST",url:e.attr("url")+"/ajax",data:a,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},dataType:"json",beforeSend:function(){$(".smartDev-overlay").show()},complete:function(){$(".smartDev-overlay").hide()},success:function(t){if(""!=t.error)return alertify.error(t.error),!1;alertify.success(t.message),setTimeout(function(){location.href=t.returnurl},2e3)},error:function(t,a,e){alertify.error(t)}})},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1})),!1}function _clearkey(t){var a=$(t);return $(".keywords").val(""),postobj(a),!1}function _hideBottom(t){var a=$(t),e=a.attr("data-body"),r=a.attr("data-bar");return $(r).hide("fast",function(){$(e).find(":checkbox").prop("checked",!1)}),!1}function _mfb(t){var a=$(t);return a.attr("data-modal")||a.attr("data-append")?$.get(a.attr("act"),function(t){if(t)return a.attr("data-modal")&&0===$(".modal-backdrop").length?BootstrapDialog.show({title:"",type:BootstrapDialog.TYPE_SUCCESS,size:BootstrapDialog.SIZE_WIDE,message:t}):a.attr("data-append")&&($(a.attr("data-class")).fadeOut(),$(a.attr("data-div")).fadeIn(function(){$(a.attr("data-div")).html(t),$(a.attr("data-div")).css("margin","10px")})),!1}):location.href=a.attr("act"),!1}function _delrecord(t){var e=$(t);e.attr("url");alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){t.preventDefault();var a=$(e.attr("data-form")).serializeArray();a.push({name:"type",value:"2Eqj6weab"}),$.ajax({type:"POST",url:e.attr("url")+"/ajax",data:a,dataType:"json",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},beforeSend:function(){$(".smartDev-overlay").show()},complete:function(){$(".smartDev-overlay").hide()},success:function(t){if(""!=t.error)return alertify.error(t.error),!1;alertify.success(t.message),setTimeout(function(){location.href=t.returnurl},2e3)},error:function(t,a,e){alertify.error(t)}})},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1})}function _chk(t){var a=$(t),e=a.attr("data-bar"),r=a.attr("class"),n=$("."+r+":checked").length;return 0<n?($(e).show(),$(".selected_items span").html(n+" data terpilih")):$(e).hide(),!1}function submenuHome(t){var a=$(t);return a.attr("data-modal")||a.attr("data-append")?$.get(a.attr("act"),function(t){if(t)return a.attr("data-modal")&&0===$(".modal-backdrop").length?BootstrapDialog.show({title:"",type:BootstrapDialog.TYPE_SUCCESS,size:BootstrapDialog.SIZE_WIDE,message:t}):a.attr("data-append")&&($(a.attr("data-class")).fadeOut(),$(a.attr("data-div")).fadeIn(function(){$(a.attr("data-div")).html(t),$(a.attr("data-div")).css("margin","10px")})),!1}):location.href=a.attr("act"),!1}function ReplaceAll(t,a,e){for(var r=t,n=r.indexOf(a);-1!=n;)n=(r=r.replace(a,e)).indexOf(a);return r}$(document).ready(function(){var t=$(".container-screen-big-loader");setTimeout(function(){t.next().show(),t.hide()},2e3),0<$(".date-pickers").length&&$(".date-pickers").bootstrapMaterialDatePicker({format:"DD/MM/YYYY",lang:"id",weekStart:0,time:!1}),0<$(".datepickers-range").length&&($(".date-end").bootstrapMaterialDatePicker({format:$(".datepickers-range").attr("data-date-format"),weekStart:0,lang:"id",time:!1}),$(".date-start").bootstrapMaterialDatePicker({format:$(".datepickers-range").attr("data-date-format"),weekStart:0,lang:"id",time:!1}).on("change",function(t,a){$(".date-end").bootstrapMaterialDatePicker("setMinDate",a)})),$(".defaulthide").hide(),$(".chk-advanced").change(function(){var t=$(this),a=t.parent().parent().prev().children();return t.is(":checked")?($(".defaulthide").show(),a.html("Sembunyikan opsi lainnya")):($(".defaulthide").hide(),a.html("Tamplikan opsi lainnya")),!1}),$(".tbs_menu").click(function(){if(chk=$(".filled-in-custom:checked").length,url=$(this).attr("url"),jml=$(this).attr("jml"),met=$(this).attr("met"),suff=$(this).attr("url-suffix"),isngajax=$(this).attr("isngajax"),datapost=$(this).attr("data-form"),isbody=$(this).attr("data-body"),""==url)return!1;if(0==chk&&"0"!=jml)return alertify.alert("Maaf, tidak ada data yang dipilih"),!1;if("1"==jml&&1<chk)return alertify.alert("Maaf, data yang bisa di proses atau di pilih hanya 1 (satu)"),!1;if("GET"==met)alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){return t.preventDefault(),suff?location.href=url+"/"+$(".filled-in-custom:checked").val()+suff:location.href=url+"/"+$(".filled-in-custom:checked").val(),!1},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1});else if("MULTIPLEGET"==met)alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){var a=new Array;$.each($(".filled-in-custom:checked"),function(){a.push($(this).val())});var e=a.join("-");return suff?location.href=url+"/"+e+suff:location.href=url+"/"+e,!1},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1});else if("GETNEW"==met)alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){if(t.preventDefault(),"0"==jml)window.open(url,"_blank");else var a=new Array;return $.each($(".filled-in-custom:checked"),function(){a.push($(this).val())}),window.open(url+"/"+a.join(),"_blank"),!1},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1});else if("BOOTSTRAPDIALOG"==met)alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){return t.preventDefault(),alertify.error("Bootstrap Dialog Disini"),!1},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1});else if("POST"==met){if(isngajax)(a=$($(this).attr("data-form")).serializeArray()).push({name:"action",value:"2Eqj6weab"});else var a=$("#tb_form").serialize();alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){return t.preventDefault(),$.ajax({type:"POST",url:url,data:a,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(){return alertify.error("Maaf, request halaman tidak ditemukan"),!1},beforeSend:function(){$(".smartDev-overlay").show()},complete:function(){$(".smartDev-overlay").hide()},success:function(t){0<=t.search("MSG")?(arrdata=t.split("#"),alertify.success(arrdata[1]),1<arrdata.length&&("TRUE"==$("#useajax").val()&&"refresh"==arrdata[2]?(newhal=parseInt($("#tb_hal").val()),redirect_url(newhal,!0)):"FALSE"==$("#useajax").val()&&"refresh"==arrdata[2]?setTimeout(function(){location.reload(!0)},1e3):isngajax?setTimeout(function(){location.reload(!0)},1e3):location.href=arrdata[2])):alertify.error("Proses Gagal")}}),!1},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1})}else if("POSTGET"==met){if(isngajax)a=$($(this).attr("data-form")).serialize();else a=$("#tb_form").serialize();alertify.okBtn("Ya").cancelBtn("Tidak").confirm("Proses data terpilih sekarang ?",function(t){return t.preventDefault(),$.ajax({type:"POST",url:url,data:a,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},error:function(){return alertify.error("Maaf, request halaman tidak ditemukan"),!1},beforeSend:function(){$(".smartDev-overlay").show()},complete:function(){$(".smartDev-overlay").hide()},success:function(t){return $(isbody).html(t),!1}}),!1},function(t){return t.preventDefault(),alertify.error("Proses dibatalkan"),!1})}return $(this).val(0),!1}),$("#tb_chkall").click(function(){$(".tabelajax").find(":checkbox").attr("checked",this.checked),$("#newtr").remove(),$(".tabelajax tr td span.tb_process").html(""),this.checked?($(".tabelajax input:checkbox:not(#tb_chkall)").parent().parent().addClass("selected"),$(".tabelajax input:checkbox:not(#tb_chkall)").parent().parent().next().addClass("selected")):($(".tabelajax input:checkbox:not(#tb_chkall)").parent().parent().removeClass("selected"),$(".tabelajax input:checkbox:not(#tb_chkall)").parent().parent().next().removeClass("selected"))}),$("#tb_cari").bind("keypress",function(t){return bind_tb_cari(t)}),$(".tb_keycariadv").bind("keypress",function(t){return bind_tb_cari(t)}),$(".key_search, .keywords").keypress(function(t){if(13==(t.keyCode?t.keyCode:t.which))return $(".btnsearch").click(),!1;t.stopPropagation()}),$(".keywords").change(function(t){var a=$(this);if(!a.attr("data-url"))return!1;var e=a.parent().parent().parent().next().children().children().children().attr("id");$.get(a.attr("data-url")+a.val(),function(t){t&&$("#"+e).html(t)})}),$(".btnreload").click(function(t){return 0<$(".btnsearch").length?$(".btnsearch").click():postobj($(this)),!1}),$(".btnreset").click(function(){return $(".keywords").val(""),!1})});